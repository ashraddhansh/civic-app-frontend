{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,mMAAO,EAAC,IAAA,0KAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,oMAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,qMAAI,GAAG;IAE9B,qBACE,2QAAC;QACC,aAAU;QACV,WAAW,IAAA,sJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/app/report/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useRouter } from \"next/navigation\"\n\ntype CapturedImage = {\n  blob: Blob\n  url: string\n  dataUrl: string\n}\n\nexport default function ReportCapturePage() {\n  const router = useRouter()\n  const videoRef = useRef<HTMLVideoElement | null>(null)\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\n  const streamRef = useRef<MediaStream | null>(null)\n  const [error, setError] = useState<string>(\"\")\n  const [images, setImages] = useState<CapturedImage[]>([])\n  const [isStarting, setIsStarting] = useState<boolean>(true)\n\n  useEffect(() => {\n    const start = async () => {\n      setError(\"\")\n      setIsStarting(true)\n      try {\n        const constraints: MediaStreamConstraints = {\n          video: {\n            facingMode: { ideal: \"environment\" },\n            width: { ideal: 1280 },\n            height: { ideal: 720 },\n          },\n          audio: false,\n        }\n        const stream = await navigator.mediaDevices.getUserMedia(constraints)\n        streamRef.current = stream\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream\n          await videoRef.current.play()\n        }\n      } catch (e) {\n        setError(\"Camera access failed. Please allow camera permissions and try again.\")\n      } finally {\n        setIsStarting(false)\n      }\n    }\n    start()\n    return () => {\n      if (streamRef.current) {\n        streamRef.current.getTracks().forEach((t) => t.stop())\n        streamRef.current = null\n      }\n    }\n  }, [])\n\n  const capture = async () => {\n    if (!videoRef.current) return\n    const video = videoRef.current\n    const width = video.videoWidth\n    const height = video.videoHeight\n    if (!width || !height) return\n\n    const canvas = canvasRef.current || document.createElement(\"canvas\")\n    canvasRef.current = canvas\n    canvas.width = width\n    canvas.height = height\n    const ctx = canvas.getContext(\"2d\")\n    if (!ctx) return\n    ctx.drawImage(video, 0, 0, width, height)\n    const blob: Blob | null = await new Promise((resolve) => canvas.toBlob((b) => resolve(b), \"image/png\", 0.9))\n    if (!blob) return\n    const url = URL.createObjectURL(blob)\n    const dataUrl = canvas.toDataURL(\"image/png\", 0.9)\n    setImages((prev) => [...prev, { blob, url, dataUrl }])\n  }\n\n  const removeAt = (idx: number) => {\n    setImages((prev) => {\n      const copy = [...prev]\n      const [removed] = copy.splice(idx, 1)\n      if (removed) URL.revokeObjectURL(removed.url)\n      return copy\n    })\n  }\n\n  const total = useMemo(() => images.length, [images])\n\n  const handleContinue = () => {\n    if (images.length === 0) {\n      setError(\"Please capture at least one photo to continue\")\n      return\n    }\n    try {\n      const dataUrls = images.map((i) => i.dataUrl)\n      localStorage.setItem(\"report_img_data_urls\", JSON.stringify(dataUrls))\n    } catch {}\n    router.push(\"/add_description\")\n  }\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-white px-6 py-12\">\n      <h1 className=\"text-2xl font-bold mb-6\">Capture Photos</h1>\n\n      {error && <p className=\"text-red-600 text-sm mb-3\">{error}</p>}\n\n      {/* Portrait-oriented preview container for mobile */}\n      <div className=\"mb-4 rounded-xl overflow-hidden border bg-black w-full max-w-sm mx-auto aspect-[9/16]\">\n        <video\n          ref={videoRef}\n          playsInline\n          muted\n          className=\"w-full h-full object-cover bg-black\"\n        />\n      </div>\n\n      <div className=\"flex gap-3 mb-5\">\n        <Button className=\"h-12\" onClick={capture} disabled={isStarting}>\n          {isStarting ? \"Starting camera...\" : \"Capture\"}\n        </Button>\n      </div>\n\n      {total > 0 && (\n        <div className=\"mb-5 text-sm text-gray-700\">Captured: {total}</div>\n      )}\n\n      <div className=\"grid grid-cols-3 gap-3 mb-8\">\n        {images.map((img, idx) => (\n          <div key={img.url} className=\"relative group border rounded-md overflow-hidden bg-gray-100\">\n            <img src={img.url} alt={`captured-${idx}`} className=\"w-full h-28 object-cover\" />\n            <button\n              type=\"button\"\n              onClick={() => removeAt(idx)}\n              className=\"absolute top-1 right-1 bg-white/90 border text-xs px-2 py-1 rounded shadow\"\n            >\n              Remove\n            </button>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"mt-auto flex gap-4\">\n        <Button\n          variant=\"outline\"\n          className=\"flex-1 h-12\"\n          onClick={() => router.back()}\n        >\n          Back\n        </Button>\n        <Button className=\"flex-1 h-12\" onClick={handleContinue}>\n          Continue\n        </Button>\n      </div>\n    </div>\n  )\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}
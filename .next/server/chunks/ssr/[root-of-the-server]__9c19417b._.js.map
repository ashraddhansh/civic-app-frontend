{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/app/components/IssueCard.tsx"],"sourcesContent":["\"use client\"\n\nimport Image from \"next/image\"\n\ninterface IssueCardProps {\n  id: string\n  date: string\n  status: string\n  image: string\n  onClick?: () => void\n}\n\nexport function IssueCard({ id, date, status, image, onClick }: IssueCardProps) {\n  return (\n    <div \n      className=\"flex items-stretch bg-white rounded-xl px-0 py-0 shadow-md border border-gray-100 cursor-pointer hover:shadow-lg hover:bg-gray-50 transition-all duration-200\"\n      onClick={onClick}\n    >\n      <div className=\"flex-shrink-0\">\n        <Image\n          src={image}\n          alt=\"Issue\"\n          width={110}\n          height={110}\n          className=\"rounded-tl-xl rounded-bl-xl rounded-r-none object-cover bg-gray-200 border border-gray-300 h-full w-[110px]\"\n        />\n      </div>\n      <div className=\"text-base flex flex-col gap-1 justify-center ml-8\">\n        <div className=\"flex gap-2 items-center\">\n          <span className=\"font-semibold text-gray-800\">Issue ID:</span>\n          <span className=\"text-gray-500 font-medium\">{id}</span>\n        </div>\n        <div className=\"flex gap-2 items-center\">\n          <span className=\"font-semibold text-gray-800\">Date:</span>\n          <span className=\"text-gray-500 font-medium\">{date}</span>\n        </div>\n        <div className=\"flex gap-2 items-center\">\n          <span className=\"font-semibold text-blue-700\">Status:</span>\n          <span className=\"text-gray-500 font-medium\">{status}</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYO,SAAS,UAAU,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAkB;IAC5E,qBACE,2QAAC;QACC,WAAU;QACV,SAAS;;0BAET,2QAAC;gBAAI,WAAU;0BACb,cAAA,2QAAC,qKAAK;oBACJ,KAAK;oBACL,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAU;;;;;;;;;;;0BAGd,2QAAC;gBAAI,WAAU;;kCACb,2QAAC;wBAAI,WAAU;;0CACb,2QAAC;gCAAK,WAAU;0CAA8B;;;;;;0CAC9C,2QAAC;gCAAK,WAAU;0CAA6B;;;;;;;;;;;;kCAE/C,2QAAC;wBAAI,WAAU;;0CACb,2QAAC;gCAAK,WAAU;0CAA8B;;;;;;0CAC9C,2QAAC;gCAAK,WAAU;0CAA6B;;;;;;;;;;;;kCAE/C,2QAAC;wBAAI,WAAU;;0CACb,2QAAC;gCAAK,WAAU;0CAA8B;;;;;;0CAC9C,2QAAC;gCAAK,WAAU;0CAA6B;;;;;;;;;;;;;;;;;;;;;;;;AAKvD","debugId":null}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/app/components/BottomNavBar.tsx"],"sourcesContent":["\"use client\"\n\nimport { Home, Camera, User, Search } from \"lucide-react\"\nimport Link from \"next/link\"\n\nexport function BottomNavbar() {\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around items-center h-16 shadow-lg\">\n      {/* Home */}\n      <Link href=\"/\" className=\"flex flex-col items-center text-gray-600\">\n        <Home size={24} />\n        <span className=\"text-xs\">Home</span>\n      </Link>\n\n      {/* Track Issues */}\n      <Link href=\"/track_issue\" className=\"flex flex-col items-center text-gray-600\">\n        <Search size={24} />\n        <span className=\"text-xs\">Track</span>\n      </Link>\n\n      {/* Report (big button) */}\n      <Link\n        href=\"/report\"\n        className=\"flex flex-col items-center -mt-8 bg-blue-500 rounded-full w-16 h-16 justify-center text-white shadow-lg\"\n      >\n        <Camera size={28} />\n      </Link>\n\n      {/* Profile */}\n      <Link href=\"/profile\" className=\"flex flex-col items-center text-gray-600\">\n        <User size={24} />\n        <span className=\"text-xs\">Profile</span>\n      </Link>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AAHA;;;;AAKO,SAAS;IACd,qBACE,2QAAC;QAAI,WAAU;;0BAEb,2QAAC,oMAAI;gBAAC,MAAK;gBAAI,WAAU;;kCACvB,2QAAC,wOAAI;wBAAC,MAAM;;;;;;kCACZ,2QAAC;wBAAK,WAAU;kCAAU;;;;;;;;;;;;0BAI5B,2QAAC,oMAAI;gBAAC,MAAK;gBAAe,WAAU;;kCAClC,2QAAC,6OAAM;wBAAC,MAAM;;;;;;kCACd,2QAAC;wBAAK,WAAU;kCAAU;;;;;;;;;;;;0BAI5B,2QAAC,oMAAI;gBACH,MAAK;gBACL,WAAU;0BAEV,cAAA,2QAAC,6OAAM;oBAAC,MAAM;;;;;;;;;;;0BAIhB,2QAAC,oMAAI;gBAAC,MAAK;gBAAW,WAAU;;kCAC9B,2QAAC,uOAAI;wBAAC,MAAM;;;;;;kCACZ,2QAAC;wBAAK,WAAU;kCAAU;;;;;;;;;;;;;;;;;;AAIlC","debugId":null}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/lib/api.ts"],"sourcesContent":["\"use client\"\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || \"https://civic-ops.onrender.com\";\n\nfunction getStoredToken(): string | null {\n  if (typeof window === \"undefined\") return null;\n  // Support both keys used elsewhere in the app\n  return localStorage.getItem(\"access_token\") || localStorage.getItem(\"token\");\n}\n\nexport async function apiFetch(path: string, options: RequestInit = {}) {\n  const url = `${API_BASE_URL}${path}`;\n  const token = getStoredToken();\n\n  const headers = new Headers(options.headers || {});\n  if (!headers.has(\"Content-Type\") && !(options.body instanceof FormData)) {\n    headers.set(\"Content-Type\", \"application/json\");\n  }\n  if (token) {\n    headers.set(\"Authorization\", `Bearer ${token}`);\n  }\n\n  const response = await fetch(url, { ...options, headers });\n  const contentType = response.headers.get(\"content-type\") || \"\";\n  const isJson = contentType.includes(\"application/json\");\n  const data = isJson ? await response.json() : await response.text();\n\n  if (!response.ok) {\n    const message = (isJson && (data?.detail || data?.message)) || response.statusText;\n    throw new Error(message || \"Request failed\");\n  }\n\n  return data;\n}\n\nexport type IssueResponse = {\n  issue_id: number;\n  title: string;\n  description: string;\n  category: string;\n  location?: string | null;\n  latitude?: number | null;\n  longitude?: number | null;\n  photo_url?: string | null;\n  voice_note_url?: string | null;\n  status: \"pending\" | \"in_progress\" | \"resolved\" | \"rejected\";\n  priority: \"unassigned\" | \"low\" | \"medium\" | \"high\" | \"urgent\";\n  created_at: string;\n  updated_at: string;\n};\n\nexport async function getIssueById(issueId: string | number): Promise<IssueResponse> {\n  return apiFetch(`/users/issues/${issueId}`, { method: \"GET\" });\n}\n\n\n"],"names":[],"mappings":";;;;;;AAAA;AAEA,MAAM,eAAe,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AAE7D,SAAS;IACP,wCAAmC,OAAO;;;AAG5C;AAEO,eAAe,SAAS,IAAY,EAAE,UAAuB,CAAC,CAAC;IACpE,MAAM,MAAM,GAAG,eAAe,MAAM;IACpC,MAAM,QAAQ;IAEd,MAAM,UAAU,IAAI,QAAQ,QAAQ,OAAO,IAAI,CAAC;IAChD,IAAI,CAAC,QAAQ,GAAG,CAAC,mBAAmB,CAAC,CAAC,QAAQ,IAAI,YAAY,QAAQ,GAAG;QACvE,QAAQ,GAAG,CAAC,gBAAgB;IAC9B;IACA,IAAI,OAAO;QACT,QAAQ,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO;IAChD;IAEA,MAAM,WAAW,MAAM,MAAM,KAAK;QAAE,GAAG,OAAO;QAAE;IAAQ;IACxD,MAAM,cAAc,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB;IAC5D,MAAM,SAAS,YAAY,QAAQ,CAAC;IACpC,MAAM,OAAO,SAAS,MAAM,SAAS,IAAI,KAAK,MAAM,SAAS,IAAI;IAEjE,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,UAAU,AAAC,UAAU,CAAC,MAAM,UAAU,MAAM,OAAO,KAAM,SAAS,UAAU;QAClF,MAAM,IAAI,MAAM,WAAW;IAC7B;IAEA,OAAO;AACT;AAkBO,eAAe,aAAa,OAAwB;IACzD,OAAO,SAAS,CAAC,cAAc,EAAE,SAAS,EAAE;QAAE,QAAQ;IAAM;AAC9D","debugId":null}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/app/home/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { IssueCard } from \"../components/IssueCard\"\nimport { BottomNavbar } from \"../components/BottomNavBar\"\nimport { apiFetch, type IssueResponse } from \"@/lib/api\"\n\nexport default function HomePage() {\n  const [issues, setIssues] = React.useState<IssueResponse[]>([])\n  const [loading, setLoading] = React.useState(true)\n  const [error, setError] = React.useState(\"\")\n\n  React.useEffect(() => {\n    const run = async () => {\n      const token = typeof window !== \"undefined\" ? (localStorage.getItem(\"access_token\") || localStorage.getItem(\"token\")) : null\n      if (!token) {\n        window.location.href = \"/login\"\n        return\n      }\n      try {\n        setLoading(true)\n        setError(\"\")\n        const data = await apiFetch(\"/users/my-issues\", { method: \"GET\" })\n        setIssues(Array.isArray(data) ? data : [])\n      } catch (e: any) {\n        setError(e?.message || \"Failed to load issues\")\n      } finally {\n        setLoading(false)\n      }\n    }\n    run()\n  }, [])\n\n  const formatDateTime = (iso: string) => {\n    try { return new Date(iso).toLocaleString() } catch { return iso }\n  }\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-white px-6 py-12 pb-24\">\n      <h1 className=\"text-2xl font-bold mb-2\">Your Complaints</h1>\n      <p className=\"text-sm text-gray-600 mb-6\">Real-time list of your submitted complaints</p>\n\n      {loading && <p className=\"text-gray-600\">Loading...</p>}\n      {!loading && error && <p className=\"text-red-600\">{error}</p>}\n\n      {!loading && !error && (\n        <div className=\"flex flex-col gap-4\">\n          {issues.length === 0 ? (\n            <div className=\"text-gray-600\">No complaints yet.</div>\n          ) : (\n            issues.map((issue) => (\n              <IssueCard\n                key={issue.issue_id}\n                id={String(issue.issue_id)}\n                date={formatDateTime(issue.created_at as unknown as string)}\n                status={issue.status === \"in_progress\" ? \"In Progress\" : issue.status.charAt(0).toUpperCase() + issue.status.slice(1)}\n                image={issue.photo_url || \"/placeholder.png\"}\n              />\n            ))\n          )}\n        </div>\n      )}\n\n      <BottomNavbar />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,6OAAK,CAAC,QAAQ,CAAkB,EAAE;IAC9D,MAAM,CAAC,SAAS,WAAW,GAAG,6OAAK,CAAC,QAAQ,CAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,6OAAK,CAAC,QAAQ,CAAC;IAEzC,6OAAK,CAAC,SAAS,CAAC;QACd,MAAM,MAAM;YACV,MAAM,QAAQ,sCAAgC,0BAA0E;YACxH,wCAAY;gBACV,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB;YACF;;;QAWF;QACA;IACF,GAAG,EAAE;IAEL,MAAM,iBAAiB,CAAC;QACtB,IAAI;YAAE,OAAO,IAAI,KAAK,KAAK,cAAc;QAAG,EAAE,OAAM;YAAE,OAAO;QAAI;IACnE;IAEA,qBACE,2QAAC;QAAI,WAAU;;0BACb,2QAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,2QAAC;gBAAE,WAAU;0BAA6B;;;;;;YAEzC,yBAAW,2QAAC;gBAAE,WAAU;0BAAgB;;;;;;YACxC,CAAC,WAAW,uBAAS,2QAAC;gBAAE,WAAU;0BAAgB;;;;;;YAElD,CAAC,WAAW,CAAC,uBACZ,2QAAC;gBAAI,WAAU;0BACZ,OAAO,MAAM,KAAK,kBACjB,2QAAC;oBAAI,WAAU;8BAAgB;;;;;2BAE/B,OAAO,GAAG,CAAC,CAAC,sBACV,2QAAC,gLAAS;wBAER,IAAI,OAAO,MAAM,QAAQ;wBACzB,MAAM,eAAe,MAAM,UAAU;wBACrC,QAAQ,MAAM,MAAM,KAAK,gBAAgB,gBAAgB,MAAM,MAAM,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK,MAAM,MAAM,CAAC,KAAK,CAAC;wBACnH,OAAO,MAAM,SAAS,IAAI;uBAJrB,MAAM,QAAQ;;;;;;;;;;0BAW7B,2QAAC,sLAAY;;;;;;;;;;;AAGnB","debugId":null}}]
}
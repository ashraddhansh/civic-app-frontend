{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/grayscaledev/Developer/github.com/civic/civic-ops-frontend/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///home/grayscaledev/Developer/github.com/civic/civic-ops-frontend/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,KAA4D;QAA5D,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC,GAA5D;IACb,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///home/grayscaledev/Developer/github.com/civic/civic-ops-frontend/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,KASb;QATa,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF,GATa;IAUd,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///home/grayscaledev/Developer/github.com/civic/civic-ops-frontend/src/app/login/page.tsx"],"sourcesContent":["\"use client\"\nimport React, { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\n\nexport default function LoginPage() {\n  const [phone, setPhone] = useState(\"\")\n  const [otp, setOtp] = useState(\"\")\n  const [otpSent, setOtpSent] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(\"\")\n  const router = useRouter()\n\n  // Send OTP\n  const handleSendOtp = async () => {\n    if (!phone || phone.length !== 10) {\n      setError(\"Please enter a valid 10-digit phone number\")\n      return\n    }\n\n    setLoading(true)\n    setError(\"\")\n    \n    try {\n      // Format phone number with country code for Twilio\n      const formattedPhone = `+91${phone}`\n      \n      const response = await fetch(\"https://civic-ops.onrender.com/auth/send-otp\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          phone_number: formattedPhone\n        }),\n      })\n\n      const data = await response.json()\n\n      if (response.ok) {\n        setOtpSent(true)\n        setError(\"\")\n      } else {\n        setError(data.detail || \"Failed to send OTP\")\n      }\n    } catch (error) {\n      setError(\"Network error. Please try again.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Verify OTP\n  const handleVerifyOtp = async () => {\n    if (!otp || otp.length !== 6) {\n      setError(\"Please enter a valid 6-digit OTP\")\n      return\n    }\n\n    setLoading(true)\n    setError(\"\")\n\n    try {\n      // Format phone number with country code for Twilio\n      const formattedPhone = `+91${phone}`\n      \n      const response = await fetch(\"https://civic-ops.onrender.com/auth/verify-otp\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          phone_number: formattedPhone,\n          otp: otp\n        }),\n      })\n\n      const data = await response.json()\n\n      if (response.ok) {\n        // Store token as returned by backend\n        const token = data.token || data.access_token\n        if (token) {\n          localStorage.setItem(\"token\", token)\n          localStorage.setItem(\"access_token\", token)\n        }\n        if (data.user_id !== undefined) {\n          localStorage.setItem(\"user_id\", String(data.user_id))\n        }\n        if (data.name) {\n          localStorage.setItem(\"name\", data.name)\n        }\n        // Persist plain phone used for login\n        try { localStorage.setItem(\"phone\", `+91${phone}`) } catch {}\n        \n        // Redirect to home\n        router.push(\"/home\")\n      } else {\n        setError(data.detail || \"Invalid OTP\")\n      }\n    } catch (error) {\n      setError(\"Network error. Please try again.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-white px-6 py-12\">\n      <h1 className=\"text-2xl font-bold mb-8\">Sign Up / Login</h1>\n\n      {!otpSent ? (\n        <>\n          {/* Phone input with +91 prefix */}\n          <div className=\"flex items-center border rounded-md mb-4\">\n            <span className=\"px-3 text-lg text-gray-600\">+91</span>\n            <Input\n              type=\"tel\"\n              placeholder=\"Enter phone number\"\n              value={phone}\n              onChange={(e) => setPhone(e.target.value.replace(/\\D/g, '').slice(0, 10))}\n              className=\"border-0 focus-visible:ring-0 h-12 text-lg flex-1\"\n              maxLength={10}\n            />\n          </div>\n\n          {error && (\n            <p className=\"text-red-500 text-sm mb-4\">{error}</p>\n          )}\n\n          <Button \n            className=\"h-12 text-lg\" \n            onClick={handleSendOtp}\n            disabled={loading || phone.length !== 10}\n          >\n            {loading ? \"Sending OTP...\" : \"Continue\"}\n          </Button>\n        </>\n      ) : (\n        <>\n          <p className=\"text-sm text-gray-600 mb-4\">\n            We've sent a 6-digit OTP to +91{phone}\n          </p>\n\n          {/* OTP input */}\n          <Input\n            type=\"text\"\n            placeholder=\"Enter 6-digit OTP\"\n            value={otp}\n            onChange={(e) => setOtp(e.target.value.replace(/\\D/g, '').slice(0, 6))}\n            className=\"h-12 text-lg mb-4 text-center tracking-widest\"\n            maxLength={6}\n          />\n\n          {error && (\n            <p className=\"text-red-500 text-sm mb-4\">{error}</p>\n          )}\n\n          <Button \n            className=\"h-12 text-lg mb-4\" \n            onClick={handleVerifyOtp}\n            disabled={loading || otp.length !== 6}\n          >\n            {loading ? \"Verifying...\" : \"Verify OTP\"}\n          </Button>\n\n          <Button \n            variant=\"outline\"\n            className=\"h-12 text-lg mb-2\" \n            onClick={() => {\n              setOtpSent(false)\n              setOtp(\"\")\n              setError(\"\")\n            }}\n          >\n            Change Phone Number\n          </Button>\n\n          <Button \n            variant=\"ghost\"\n            className=\"h-12 text-lg\" \n            onClick={handleSendOtp}\n            disabled={loading}\n          >\n            Resend OTP\n          </Button>\n        </>\n      )}\n\n      <p className=\"mt-8 text-center text-sm text-gray-600\">\n        Don't have an account?{\" \"}\n        <a href=\"/signup\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n          Sign up\n        </a>\n      </p>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/app/components/IssueCard.tsx"],"sourcesContent":["\"use client\"\n\nimport Image from \"next/image\"\n\ninterface IssueCardProps {\n  id: string\n  date: string\n  status: string\n  image: string\n  onClick?: () => void\n}\n\nexport function IssueCard({ id, date, status, image, onClick }: IssueCardProps) {\n  return (\n    <div \n      className=\"flex items-stretch bg-white rounded-xl px-0 py-0 shadow-md border border-gray-100 cursor-pointer hover:shadow-lg hover:bg-gray-50 transition-all duration-200\"\n      onClick={onClick}\n    >\n      <div className=\"flex-shrink-0\">\n        <Image\n          src={image}\n          alt=\"Issue\"\n          width={110}\n          height={110}\n          className=\"rounded-tl-xl rounded-bl-xl rounded-r-none object-cover bg-gray-200 border border-gray-300 h-full w-[110px]\"\n        />\n      </div>\n      <div className=\"text-base flex flex-col gap-1 justify-center ml-8\">\n        <div className=\"flex gap-2 items-center\">\n          <span className=\"font-semibold text-gray-800\">Issue ID:</span>\n          <span className=\"text-gray-500 font-medium\">{id}</span>\n        </div>\n        <div className=\"flex gap-2 items-center\">\n          <span className=\"font-semibold text-gray-800\">Date:</span>\n          <span className=\"text-gray-500 font-medium\">{date}</span>\n        </div>\n        <div className=\"flex gap-2 items-center\">\n          <span className=\"font-semibold text-blue-700\">Status:</span>\n          <span className=\"text-gray-500 font-medium\">{status}</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYO,SAAS,UAAU,KAAoD;QAApD,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAkB,GAApD;IACxB,qBACE,0NAAC;QACC,WAAU;QACV,SAAS;;0BAET,0NAAC;gBAAI,WAAU;0BACb,cAAA,0NAAC,wKAAK;oBACJ,KAAK;oBACL,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAU;;;;;;;;;;;0BAGd,0NAAC;gBAAI,WAAU;;kCACb,0NAAC;wBAAI,WAAU;;0CACb,0NAAC;gCAAK,WAAU;0CAA8B;;;;;;0CAC9C,0NAAC;gCAAK,WAAU;0CAA6B;;;;;;;;;;;;kCAE/C,0NAAC;wBAAI,WAAU;;0CACb,0NAAC;gCAAK,WAAU;0CAA8B;;;;;;0CAC9C,0NAAC;gCAAK,WAAU;0CAA6B;;;;;;;;;;;;kCAE/C,0NAAC;wBAAI,WAAU;;0CACb,0NAAC;gCAAK,WAAU;0CAA8B;;;;;;0CAC9C,0NAAC;gCAAK,WAAU;0CAA6B;;;;;;;;;;;;;;;;;;;;;;;;AAKvD;KA/BgB","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/app/components/BottomNavBar.tsx"],"sourcesContent":["\"use client\"\n\nimport { Home, Camera, User, Search } from \"lucide-react\"\nimport Link from \"next/link\"\n\nexport function BottomNavbar() {\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around items-center h-16 shadow-lg\">\n      {/* Home */}\n      <Link href=\"/\" className=\"flex flex-col items-center text-gray-600\">\n        <Home size={24} />\n        <span className=\"text-xs\">Home</span>\n      </Link>\n\n      {/* Track Issues */}\n      <Link href=\"/track_issue\" className=\"flex flex-col items-center text-gray-600\">\n        <Search size={24} />\n        <span className=\"text-xs\">Track</span>\n      </Link>\n\n      {/* Report (big button) */}\n      <Link\n        href=\"/report\"\n        className=\"flex flex-col items-center -mt-8 bg-blue-500 rounded-full w-16 h-16 justify-center text-white shadow-lg\"\n      >\n        <Camera size={28} />\n      </Link>\n\n      {/* Profile */}\n      <Link href=\"/profile\" className=\"flex flex-col items-center text-gray-600\">\n        <User size={24} />\n        <span className=\"text-xs\">Profile</span>\n      </Link>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AAHA;;;;AAKO,SAAS;IACd,qBACE,0NAAC;QAAI,WAAU;;0BAEb,0NAAC,uMAAI;gBAAC,MAAK;gBAAI,WAAU;;kCACvB,0NAAC,2OAAI;wBAAC,MAAM;;;;;;kCACZ,0NAAC;wBAAK,WAAU;kCAAU;;;;;;;;;;;;0BAI5B,0NAAC,uMAAI;gBAAC,MAAK;gBAAe,WAAU;;kCAClC,0NAAC,gPAAM;wBAAC,MAAM;;;;;;kCACd,0NAAC;wBAAK,WAAU;kCAAU;;;;;;;;;;;;0BAI5B,0NAAC,uMAAI;gBACH,MAAK;gBACL,WAAU;0BAEV,cAAA,0NAAC,gPAAM;oBAAC,MAAM;;;;;;;;;;;0BAIhB,0NAAC,uMAAI;gBAAC,MAAK;gBAAW,WAAU;;kCAC9B,0NAAC,0OAAI;wBAAC,MAAM;;;;;;kCACZ,0NAAC;wBAAK,WAAU;kCAAU;;;;;;;;;;;;;;;;;;AAIlC;KA9BgB","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/app/components/AnalyticsCard.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { LucideIcon } from \"lucide-react\"\n\ninterface AnalyticsCardProps {\n  title: string\n  value: number\n  icon: LucideIcon\n  color: string\n  bgColor: string\n  iconColor: string\n}\n\nexport function AnalyticsCard({ title, value, icon: Icon, color, bgColor, iconColor }: AnalyticsCardProps) {\n  return (\n    <div className={`${bgColor} rounded-xl p-4 shadow-sm border border-gray-100`}>\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-medium text-gray-600 mb-1\">{title}</p>\n          <p className={`text-2xl font-bold ${color}`}>{value}</p>\n        </div>\n        <div className={`${iconColor} p-3 rounded-lg`}>\n          <Icon size={24} />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAcO,SAAS,cAAc,KAA2E;QAA3E,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAsB,GAA3E;IAC5B,qBACE,0NAAC;QAAI,WAAW,AAAC,GAAU,OAAR,SAAQ;kBACzB,cAAA,0NAAC;YAAI,WAAU;;8BACb,0NAAC;oBAAI,WAAU;;sCACb,0NAAC;4BAAE,WAAU;sCAA0C;;;;;;sCACvD,0NAAC;4BAAE,WAAW,AAAC,sBAA2B,OAAN;sCAAU;;;;;;;;;;;;8BAEhD,0NAAC;oBAAI,WAAW,AAAC,GAAY,OAAV,WAAU;8BAC3B,cAAA,0NAAC;wBAAK,MAAM;;;;;;;;;;;;;;;;;;;;;;AAKtB;KAdgB","debugId":null}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/app/components/AnalyticsSection.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { FileText, Clock, CheckCircle, XCircle, AlertCircle } from \"lucide-react\"\nimport { AnalyticsCard } from \"./AnalyticsCard\"\nimport { UserStatsResponse } from \"@/lib/api\"\n\ninterface AnalyticsSectionProps {\n  stats: UserStatsResponse\n  loading?: boolean\n}\n\nexport function AnalyticsSection({ stats, loading = false }: AnalyticsSectionProps) {\n  if (loading) {\n    return (\n      <div className=\"mb-8\">\n        <h2 className=\"text-lg font-semibold mb-4 text-gray-800\">Complaint Analytics</h2>\n        <div className=\"grid grid-cols-2 gap-4\">\n          {[...Array(4)].map((_, i) => (\n            <div key={i} className=\"bg-gray-100 rounded-xl p-4 animate-pulse\">\n              <div className=\"h-4 bg-gray-200 rounded mb-2\"></div>\n              <div className=\"h-6 bg-gray-200 rounded w-1/2\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  const analyticsData = [\n    {\n      title: \"Total Complaints\",\n      value: stats.total_issues,\n      icon: FileText,\n      color: \"text-blue-600\",\n      bgColor: \"bg-blue-50\",\n      iconColor: \"bg-blue-100 text-blue-600\"\n    },\n    {\n      title: \"Pending\",\n      value: stats.by_status.pending,\n      icon: Clock,\n      color: \"text-orange-600\",\n      bgColor: \"bg-orange-50\",\n      iconColor: \"bg-orange-100 text-orange-600\"\n    },\n    {\n      title: \"In Progress\",\n      value: stats.by_status.in_progress,\n      icon: AlertCircle,\n      color: \"text-yellow-600\",\n      bgColor: \"bg-yellow-50\",\n      iconColor: \"bg-yellow-100 text-yellow-600\"\n    },\n    {\n      title: \"Resolved\",\n      value: stats.by_status.resolved,\n      icon: CheckCircle,\n      color: \"text-green-600\",\n      bgColor: \"bg-green-50\",\n      iconColor: \"bg-green-100 text-green-600\"\n    }\n  ]\n\n  return (\n    <div className=\"mb-8\">\n      <h2 className=\"text-lg font-semibold mb-4 text-gray-800\">Complaint Analytics</h2>\n      <div className=\"grid grid-cols-2 gap-4\">\n        {analyticsData.map((data, index) => (\n          <AnalyticsCard\n            key={index}\n            title={data.title}\n            value={data.value}\n            icon={data.icon}\n            color={data.color}\n            bgColor={data.bgColor}\n            iconColor={data.iconColor}\n          />\n        ))}\n      </div>\n      \n      {/* Additional stats row */}\n      <div className=\"mt-4 grid grid-cols-1 gap-4\">\n        <div className=\"bg-gray-50 rounded-xl p-4 border border-gray-100\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"bg-red-100 text-red-600 p-2 rounded-lg\">\n                <XCircle size={20} />\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Rejected</p>\n                <p className=\"text-xl font-bold text-red-600\">{stats.by_status.rejected}</p>\n              </div>\n            </div>\n            <div className=\"text-right\">\n              <p className=\"text-xs text-gray-500\">Resolution Rate</p>\n              <p className=\"text-sm font-semibold text-gray-700\">\n                {stats.total_issues > 0 \n                  ? Math.round((stats.by_status.resolved / stats.total_issues) * 100)\n                  : 0}%\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;;;;AAYO,SAAS,iBAAiB,KAAiD;QAAjD,EAAE,KAAK,EAAE,UAAU,KAAK,EAAyB,GAAjD;IAC/B,IAAI,SAAS;QACX,qBACE,0NAAC;YAAI,WAAU;;8BACb,0NAAC;oBAAG,WAAU;8BAA2C;;;;;;8BACzD,0NAAC;oBAAI,WAAU;8BACZ;2BAAI,MAAM;qBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,0NAAC;4BAAY,WAAU;;8CACrB,0NAAC;oCAAI,WAAU;;;;;;8CACf,0NAAC;oCAAI,WAAU;;;;;;;2BAFP;;;;;;;;;;;;;;;;IAQpB;IAEA,MAAM,gBAAgB;QACpB;YACE,OAAO;YACP,OAAO,MAAM,YAAY;YACzB,MAAM,0PAAQ;YACd,OAAO;YACP,SAAS;YACT,WAAW;QACb;QACA;YACE,OAAO;YACP,OAAO,MAAM,SAAS,CAAC,OAAO;YAC9B,MAAM,6OAAK;YACX,OAAO;YACP,SAAS;YACT,WAAW;QACb;QACA;YACE,OAAO;YACP,OAAO,MAAM,SAAS,CAAC,WAAW;YAClC,MAAM,mQAAW;YACjB,OAAO;YACP,SAAS;YACT,WAAW;QACb;QACA;YACE,OAAO;YACP,OAAO,MAAM,SAAS,CAAC,QAAQ;YAC/B,MAAM,0QAAW;YACjB,OAAO;YACP,SAAS;YACT,WAAW;QACb;KACD;IAED,qBACE,0NAAC;QAAI,WAAU;;0BACb,0NAAC;gBAAG,WAAU;0BAA2C;;;;;;0BACzD,0NAAC;gBAAI,WAAU;0BACZ,cAAc,GAAG,CAAC,CAAC,MAAM,sBACxB,0NAAC,2LAAa;wBAEZ,OAAO,KAAK,KAAK;wBACjB,OAAO,KAAK,KAAK;wBACjB,MAAM,KAAK,IAAI;wBACf,OAAO,KAAK,KAAK;wBACjB,SAAS,KAAK,OAAO;wBACrB,WAAW,KAAK,SAAS;uBANpB;;;;;;;;;;0BAYX,0NAAC;gBAAI,WAAU;0BACb,cAAA,0NAAC;oBAAI,WAAU;8BACb,cAAA,0NAAC;wBAAI,WAAU;;0CACb,0NAAC;gCAAI,WAAU;;kDACb,0NAAC;wCAAI,WAAU;kDACb,cAAA,0NAAC,uPAAO;4CAAC,MAAM;;;;;;;;;;;kDAEjB,0NAAC;;0DACC,0NAAC;gDAAE,WAAU;0DAAoC;;;;;;0DACjD,0NAAC;gDAAE,WAAU;0DAAkC,MAAM,SAAS,CAAC,QAAQ;;;;;;;;;;;;;;;;;;0CAG3E,0NAAC;gCAAI,WAAU;;kDACb,0NAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,0NAAC;wCAAE,WAAU;;4CACV,MAAM,YAAY,GAAG,IAClB,KAAK,KAAK,CAAC,AAAC,MAAM,SAAS,CAAC,QAAQ,GAAG,MAAM,YAAY,GAAI,OAC7D;4CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtB;KA/FgB","debugId":null}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/lib/api.ts"],"sourcesContent":["\"use client\"\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || \"https://civic-ops.onrender.com\";\n\nfunction getStoredToken(): string | null {\n  if (typeof window === \"undefined\") return null;\n  // Support both keys used elsewhere in the app\n  return localStorage.getItem(\"access_token\") || localStorage.getItem(\"token\");\n}\n\nexport async function apiFetch(path: string, options: RequestInit = {}) {\n  const url = `${API_BASE_URL}${path}`;\n  const token = getStoredToken();\n\n  const headers = new Headers(options.headers || {});\n  if (!headers.has(\"Content-Type\") && !(options.body instanceof FormData)) {\n    headers.set(\"Content-Type\", \"application/json\");\n  }\n  if (token) {\n    headers.set(\"Authorization\", `Bearer ${token}`);\n  }\n\n  const response = await fetch(url, { ...options, headers });\n  const contentType = response.headers.get(\"content-type\") || \"\";\n  const isJson = contentType.includes(\"application/json\");\n  const data = isJson ? await response.json() : await response.text();\n\n  if (!response.ok) {\n    const message = (isJson && (data?.detail || data?.message)) || response.statusText;\n    throw new Error(message || \"Request failed\");\n  }\n\n  return data;\n}\n\nexport type IssueResponse = {\n  issue_id: number;\n  title: string;\n  description: string;\n  category: string;\n  location?: string | null;\n  latitude?: number | null;\n  longitude?: number | null;\n  photo_url?: string | null;\n  voice_note_url?: string | null;\n  status: \"pending\" | \"in_progress\" | \"resolved\" | \"rejected\";\n  priority: \"unassigned\" | \"low\" | \"medium\" | \"high\" | \"urgent\";\n  created_at: string;\n  updated_at: string;\n};\n\nexport async function getIssueById(issueId: string | number): Promise<IssueResponse> {\n  return apiFetch(`/users/issues/${issueId}`, { method: \"GET\" });\n}\n\nexport interface UserStatsResponse {\n  total_issues: number\n  by_status: {\n    pending: number\n    in_progress: number\n    resolved: number\n    rejected: number\n  }\n}\n\nexport async function getUserStats(): Promise<UserStatsResponse> {\n  return apiFetch(\"/users/my-issues/stats\", { method: \"GET\" });\n}\n\n\n"],"names":[],"mappings":";;;;;;;;AAEqB;AAFrB;AAEA,MAAM,eAAe,wMAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI;AAE7D,SAAS;IACP;;IACA,8CAA8C;IAC9C,OAAO,aAAa,OAAO,CAAC,mBAAmB,aAAa,OAAO,CAAC;AACtE;AAEO,eAAe,SAAS,IAAY;QAAE,UAAA,iEAAuB,CAAC;IACnE,MAAM,MAAM,AAAC,GAAiB,OAAf,cAAoB,OAAL;IAC9B,MAAM,QAAQ;IAEd,MAAM,UAAU,IAAI,QAAQ,QAAQ,OAAO,IAAI,CAAC;IAChD,IAAI,CAAC,QAAQ,GAAG,CAAC,mBAAmB,CAAC,CAAC,QAAQ,IAAI,YAAY,QAAQ,GAAG;QACvE,QAAQ,GAAG,CAAC,gBAAgB;IAC9B;IACA,IAAI,OAAO;QACT,QAAQ,GAAG,CAAC,iBAAiB,AAAC,UAAe,OAAN;IACzC;IAEA,MAAM,WAAW,MAAM,MAAM,KAAK;QAAE,GAAG,OAAO;QAAE;IAAQ;IACxD,MAAM,cAAc,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB;IAC5D,MAAM,SAAS,YAAY,QAAQ,CAAC;IACpC,MAAM,OAAO,SAAS,MAAM,SAAS,IAAI,KAAK,MAAM,SAAS,IAAI;IAEjE,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,UAAU,AAAC,UAAU,CAAC,CAAA,iBAAA,2BAAA,KAAM,MAAM,MAAI,iBAAA,2BAAA,KAAM,OAAO,CAAA,KAAM,SAAS,UAAU;QAClF,MAAM,IAAI,MAAM,WAAW;IAC7B;IAEA,OAAO;AACT;AAkBO,eAAe,aAAa,OAAwB;IACzD,OAAO,SAAS,AAAC,iBAAwB,OAAR,UAAW;QAAE,QAAQ;IAAM;AAC9D;AAYO,eAAe;IACpB,OAAO,SAAS,0BAA0B;QAAE,QAAQ;IAAM;AAC5D","debugId":null}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Documents/kmc/SIH/civic-cops-frontend/src/app/home/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport { IssueCard } from \"../components/IssueCard\"\nimport { BottomNavbar } from \"../components/BottomNavBar\"\nimport { AnalyticsSection } from \"../components/AnalyticsSection\"\nimport { apiFetch, type IssueResponse, type UserStatsResponse } from \"@/lib/api\"\n\nexport default function HomePage() {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const [issues, setIssues] = React.useState<IssueResponse[]>([])\n  const [stats, setStats] = React.useState<UserStatsResponse | null>(null)\n  const [loading, setLoading] = React.useState(true)\n  const [statsLoading, setStatsLoading] = React.useState(true)\n  const [error, setError] = React.useState(\"\")\n  const [showSuccess, setShowSuccess] = React.useState(false)\n  const isFetchingRef = React.useRef(false)\n\n  React.useEffect(() => {\n    // Check for success parameter\n    if (searchParams.get(\"success\") === \"true\") {\n      setShowSuccess(true)\n      // Remove success parameter from URL\n      const newUrl = new URL(window.location.href)\n      newUrl.searchParams.delete(\"success\")\n      window.history.replaceState({}, \"\", newUrl.toString())\n    }\n  }, [searchParams])\n\n  const fetchData = React.useCallback(async () => {\n    if (isFetchingRef.current) return\n    isFetchingRef.current = true\n    try {\n      setStatsLoading(true)\n      setError(\"\")\n      // Fetch issues and stats in parallel\n      const [issuesData, statsData] = await Promise.allSettled([\n        apiFetch(\"/users/my-issues\", { method: \"GET\" }),\n        apiFetch(\"/users/my-issues/stats\", { method: \"GET\" })\n      ])\n      // Handle issues data\n      if (issuesData.status === \"fulfilled\") {\n        console.log(\"Issues data:\", issuesData.value)\n        setIssues(Array.isArray(issuesData.value) ? issuesData.value : [])\n      } else {\n        console.error(\"Failed to fetch issues:\", issuesData.reason)\n        setIssues([])\n      }\n      // Handle stats data\n      if (statsData.status === \"fulfilled\") {\n        console.log(\"Stats data:\", statsData.value)\n        setStats(statsData.value)\n      } else {\n        console.error(\"Failed to fetch stats:\", statsData.reason)\n        setStats({ total_issues: 0, by_status: { pending: 0, in_progress: 0, resolved: 0, rejected: 0 } })\n      }\n    } catch (e: any) {\n      setError(e?.message || \"Failed to load data\")\n    } finally {\n      setStatsLoading(false)\n      isFetchingRef.current = false\n    }\n  }, [])\n\n  React.useEffect(() => {\n    const run = async () => {\n      const token = typeof window !== \"undefined\" ? (localStorage.getItem(\"access_token\") || localStorage.getItem(\"token\")) : null\n      if (!token) {\n        window.location.href = \"/login\"\n        return\n      }\n      try {\n        setLoading(true)\n        await fetchData()\n      } finally {\n        setLoading(false)\n      }\n    }\n    run()\n  }, [fetchData])\n\n  // Auto-refresh: only on tab focus/visibility (no periodic polling)\n  React.useEffect(() => {\n    const handleVisibility = () => {\n      if (document.visibilityState === \"visible\") fetchData()\n    }\n    const handleFocus = () => fetchData()\n\n    document.addEventListener(\"visibilitychange\", handleVisibility)\n    window.addEventListener(\"focus\", handleFocus)\n\n    return () => {\n      document.removeEventListener(\"visibilitychange\", handleVisibility)\n      window.removeEventListener(\"focus\", handleFocus)\n    }\n  }, [fetchData])\n\n  const formatDateTime = (iso: string) => {\n    try { return new Date(iso).toLocaleString() } catch { return iso }\n  }\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-white px-6 py-12 pb-24\">\n      <h1 className=\"text-2xl font-bold mb-2\">Your Complaints</h1>\n      <p className=\"text-sm text-gray-600 mb-6\">Real-time list of your submitted complaints</p>\n\n      {/* Success Message */}\n      {showSuccess && (\n        <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm font-medium text-green-800\">\n                Complaint submitted successfully! Your complaint has been registered and assigned a tracking ID.\n              </p>\n            </div>\n            <div className=\"ml-auto pl-3\">\n              <button\n                type=\"button\"\n                className=\"inline-flex rounded-md bg-green-50 p-1.5 text-green-500 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 focus:ring-offset-green-50\"\n                onClick={() => setShowSuccess(false)}\n              >\n                <span className=\"sr-only\">Dismiss</span>\n                <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path d=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Analytics Section */}\n      <AnalyticsSection \n        stats={stats || { total_issues: 0, by_status: { pending: 0, in_progress: 0, resolved: 0, rejected: 0 } }} \n        loading={statsLoading} \n      />\n\n      {loading && <p className=\"text-gray-600\">Loading...</p>}\n      {!loading && error && <p className=\"text-red-600\">{error}</p>}\n\n      {!loading && !error && (\n        <div className=\"flex flex-col gap-4\">\n          {issues.length === 0 ? (\n            <div className=\"text-gray-600\">No complaints yet.</div>\n          ) : (\n            issues.map((issue) => (\n              <IssueCard\n                key={issue.issue_id}\n                id={String(issue.issue_id)}\n                date={formatDateTime(issue.created_at as unknown as string)}\n                status={issue.status === \"in_progress\" ? \"In Progress\" : issue.status.charAt(0).toUpperCase() + issue.status.slice(1)}\n                image={issue.photo_url || \"/placeholder.png\"}\n                onClick={() => router.push(`/track_issue?id=${issue.issue_id}`)}\n              />\n            ))\n          )}\n        </div>\n      )}\n\n      <BottomNavbar />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}